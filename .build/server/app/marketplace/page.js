(()=>{var e={};e.id=94,e.ids=[94],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10406:(e,a,s)=>{"use strict";s.r(a),s.d(a,{GlobalError:()=>l.default,__next_app__:()=>c,pages:()=>o,routeModule:()=>m,tree:()=>d});var r=s(65239),t=s(48088),l=s(46076),i=s(30893),n={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>i[e]);s.d(a,n);let d={children:["",{children:["marketplace",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,24189)),"/home/ubuntu/fotoverse/app/marketplace/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,58014)),"/home/ubuntu/fotoverse/app/layout.tsx"],"global-error":[()=>Promise.resolve().then(s.bind(s,46076)),"/home/ubuntu/fotoverse/app/global-error.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,46818)),"/home/ubuntu/fotoverse/app/not-found.tsx"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,o=["/home/ubuntu/fotoverse/app/marketplace/page.tsx"],c={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:t.RouteKind.APP_PAGE,page:"/marketplace/page",pathname:"/marketplace",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19833:(e,a,s)=>{Promise.resolve().then(s.bind(s,24189))},24189:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>r});let r=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/ubuntu/fotoverse/app/marketplace/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/ubuntu/fotoverse/app/marketplace/page.tsx","default")},25335:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>y});var r=s(60687),t=s(43210),l=s(30474),i=s(24934),n=s(68988),d=s(55192),o=s(59821),c=s(63974),m=s(58709),p=s(70373),u=s(20514),x=s(96474),f=s(98492),h=s(99270),g=s(67760),b=s(97992),v=s(33872),j=s(71057);function y(){let[e,a]=(0,t.useState)([]),[s,y]=(0,t.useState)(!0),[N,w]=(0,t.useState)({search:"",category:"",condition:"",city:"",priceRange:[0,5e3]}),[C,R]=(0,t.useState)({page:1,limit:12,total:0,pages:0}),A=async()=>{y(!0);try{let e=new URLSearchParams({page:C.page.toString(),limit:C.limit.toString()});N.search&&e.append("search",N.search),N.category&&e.append("category",N.category),N.condition&&e.append("condition",N.condition),N.city&&e.append("city",N.city),N.priceRange[0]>0&&e.append("minPrice",N.priceRange[0].toString()),N.priceRange[1]<5e3&&e.append("maxPrice",N.priceRange[1].toString());let s=await fetch(`/api/marketplace?${e}`);if(s.ok){let e=await s.json();a(e.equipment),R(e.pagination)}}catch(e){console.error("Failed to fetch equipment:",e)}finally{y(!1)}},k=()=>{w({search:"",category:"",condition:"",city:"",priceRange:[0,5e3]}),R(e=>({...e,page:1}))},P=e=>{if(e.images&&e.images.length>0)return e.images[0];switch(e.category){case"CAMERA":return"https://c8.alamy.com/comp/HJ466G/professional-dslr-digital-camera-with-big-white-tele-lens-on-white-HJ466G.jpg";case"LENS":return"https://i.ytimg.com/vi/WE-b4IPMnq8/maxresdefault.jpg";case"LIGHTING":return"https://i.pinimg.com/originals/80/1a/d6/801ad69ccf345ad7830e09a97da1bed7.jpg";case"BACKDROP":return"https://i.pinimg.com/originals/e2/20/1a/e2201a6a102d029f095446eb52fb6d46.jpg";case"PROPS":return"https://i.pinimg.com/originals/cc/4e/5a/cc4e5a996cd15c29d3acfc89f76f28bb.jpg";case"WARDROBE":return"https://i.pinimg.com/originals/44/b3/61/44b36189feeedd5d2c66edbb1d1aabc8.jpg";case"ACCESSORIES":return"https://i.pinimg.com/originals/01/ab/b9/01abb9383b2321c0314acde2434f55e8.png";default:return"https://images.pexels.com/photos/4011762/pexels-photo-4011762.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260"}};return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)("div",{className:"bg-white border-b",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:(0,r.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Equipment Marketplace"}),(0,r.jsx)("p",{className:"text-gray-600 mt-1",children:"Buy and sell photography gear with the community"})]}),(0,r.jsxs)(i.$,{className:"lg:w-auto",children:[(0,r.jsx)(x.A,{className:"h-4 w-4 mr-2"}),"List Equipment"]})]})})}),(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,r.jsxs)("div",{className:"flex flex-col lg:flex-row gap-8",children:[(0,r.jsx)("div",{className:"lg:w-80 space-y-6",children:(0,r.jsx)(d.Zp,{children:(0,r.jsxs)(d.Wu,{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold flex items-center",children:[(0,r.jsx)(f.A,{className:"h-5 w-5 mr-2"}),"Filters"]}),(0,r.jsx)(i.$,{variant:"ghost",size:"sm",onClick:k,children:"Clear"})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("form",{onSubmit:e=>{e.preventDefault(),R(e=>({...e,page:1})),A()},children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(h.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),(0,r.jsx)(n.p,{placeholder:"Search equipment...",value:N.search,onChange:e=>w(a=>({...a,search:e.target.value})),className:"pl-10"})]})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Category"}),(0,r.jsxs)(c.l6,{value:N.category||void 0,onValueChange:e=>w(a=>({...a,category:e||""})),children:[(0,r.jsx)(c.bq,{children:(0,r.jsx)(c.yv,{placeholder:"Any category"})}),(0,r.jsxs)(c.gC,{children:[(0,r.jsx)(c.eb,{value:"all",children:"Any category"}),[{value:"CAMERA",label:"Cameras"},{value:"LENS",label:"Lenses"},{value:"LIGHTING",label:"Lighting"},{value:"BACKDROP",label:"Backdrops"},{value:"PROPS",label:"Props"},{value:"WARDROBE",label:"Wardrobe"},{value:"ACCESSORIES",label:"Accessories"}].map(e=>(0,r.jsx)(c.eb,{value:e.value,children:e.label},e.value))]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Condition"}),(0,r.jsxs)(c.l6,{value:N.condition||void 0,onValueChange:e=>w(a=>({...a,condition:e||""})),children:[(0,r.jsx)(c.bq,{children:(0,r.jsx)(c.yv,{placeholder:"Any condition"})}),(0,r.jsxs)(c.gC,{children:[(0,r.jsx)(c.eb,{value:"all",children:"Any condition"}),[{value:"New",label:"New"},{value:"Like New",label:"Like New"},{value:"Good",label:"Good"},{value:"Fair",label:"Fair"}].map(e=>(0,r.jsx)(c.eb,{value:e.value,children:e.label},e.value))]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"City"}),(0,r.jsx)(n.p,{placeholder:"Enter city",value:N.city,onChange:e=>w(a=>({...a,city:e.target.value}))})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"text-sm font-medium mb-2 block",children:["Price Range: $",N.priceRange[0]," - $",N.priceRange[1]]}),(0,r.jsx)(m.A,{value:N.priceRange,onValueChange:e=>w(a=>({...a,priceRange:e})),max:5e3,step:50,className:"mt-2"})]})]})]})})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,r.jsxs)("p",{className:"text-gray-600",children:[C.total," items found"]})}),s?(0,r.jsx)("div",{className:"grid md:grid-cols-2 xl:grid-cols-3 gap-6",children:[...Array(6)].map((e,a)=>(0,r.jsxs)("div",{className:"animate-pulse",children:[(0,r.jsx)("div",{className:"bg-gray-200 aspect-square rounded-lg mb-4"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),(0,r.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})]},a))}):(0,r.jsx)("div",{className:"grid md:grid-cols-2 xl:grid-cols-3 gap-6",children:e.map((e,a)=>(0,r.jsx)(u.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1*a},children:(0,r.jsxs)(d.Zp,{className:"overflow-hidden card-hover border-0 shadow-md",children:[(0,r.jsxs)("div",{className:"relative aspect-square bg-gray-200",children:[(0,r.jsx)(l.default,{src:P(e),alt:`${e.title} - ${e.category.replace("_"," ")} for sale in ${e.city}`,fill:!0,className:"object-cover"}),(0,r.jsx)("div",{className:"absolute top-3 right-3",children:(0,r.jsx)(i.$,{size:"sm",variant:"secondary",className:"rounded-full p-2",children:(0,r.jsx)(g.A,{className:"h-4 w-4"})})}),(0,r.jsx)("div",{className:"absolute top-3 left-3",children:(0,r.jsx)(o.E,{variant:"secondary",children:e.category.replace("_"," ")})})]}),(0,r.jsxs)(d.Wu,{className:"p-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg mb-2 line-clamp-2",children:e.title}),e.brand&&e.model&&(0,r.jsxs)("p",{className:"text-gray-600 text-sm mb-2",children:[e.brand," ",e.model]}),(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.jsx)(o.E,{variant:"outline",children:e.condition}),(0,r.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,r.jsx)(b.A,{className:"h-4 w-4 mr-1"}),(0,r.jsx)("span",{className:"text-sm",children:e.city})]})]}),(0,r.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsxs)(p.eu,{className:"h-6 w-6",children:[(0,r.jsx)(p.BK,{src:e.seller.avatar||""}),(0,r.jsx)(p.q5,{className:"text-xs",children:e.seller.name?.charAt(0)||"U"})]}),(0,r.jsx)("span",{className:"text-sm text-gray-600",children:e.seller.name})]})}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("span",{className:"text-2xl font-bold text-green-600",children:["$",e.price.toLocaleString()]}),(0,r.jsxs)(i.$,{size:"sm",children:[(0,r.jsx)(v.A,{className:"h-4 w-4 mr-1"}),"Contact"]})]})]})]})},e.id))}),!s&&0===e.length&&(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)(j.A,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),(0,r.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No equipment found"}),(0,r.jsx)("p",{className:"text-gray-600 mb-4",children:"Try adjusting your filters or search terms."}),(0,r.jsx)(i.$,{onClick:k,children:"Clear Filters"})]}),C.pages>1&&(0,r.jsx)("div",{className:"flex justify-center mt-8",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(i.$,{variant:"outline",disabled:1===C.page,onClick:()=>R(e=>({...e,page:e.page-1})),children:"Previous"}),[...Array(Math.min(5,C.pages))].map((e,a)=>{let s=a+1;return(0,r.jsx)(i.$,{variant:C.page===s?"default":"outline",onClick:()=>R(e=>({...e,page:s})),children:s},s)}),(0,r.jsx)(i.$,{variant:"outline",disabled:C.page===C.pages,onClick:()=>R(e=>({...e,page:e.page+1})),children:"Next"})]})})]})]})})]})}},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33872:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let r=(0,s(62688).A)("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]])},33873:e=>{"use strict";e.exports=require("path")},55192:(e,a,s)=>{"use strict";s.d(a,{BT:()=>o,Wu:()=>c,ZB:()=>d,Zp:()=>i,aR:()=>n});var r=s(60687),t=s(43210),l=s(96241);let i=t.forwardRef(({className:e,...a},s)=>(0,r.jsx)("div",{ref:s,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...a}));i.displayName="Card";let n=t.forwardRef(({className:e,...a},s)=>(0,r.jsx)("div",{ref:s,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",e),...a}));n.displayName="CardHeader";let d=t.forwardRef(({className:e,...a},s)=>(0,r.jsx)("h3",{ref:s,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",e),...a}));d.displayName="CardTitle";let o=t.forwardRef(({className:e,...a},s)=>(0,r.jsx)("p",{ref:s,className:(0,l.cn)("text-sm text-muted-foreground",e),...a}));o.displayName="CardDescription";let c=t.forwardRef(({className:e,...a},s)=>(0,r.jsx)("div",{ref:s,className:(0,l.cn)("p-6 pt-0",e),...a}));c.displayName="CardContent",t.forwardRef(({className:e,...a},s)=>(0,r.jsx)("div",{ref:s,className:(0,l.cn)("flex items-center p-6 pt-0",e),...a})).displayName="CardFooter"},56281:(e,a,s)=>{Promise.resolve().then(s.bind(s,25335))},58709:(e,a,s)=>{"use strict";s.d(a,{A:()=>n});var r=s(60687),t=s(43210),l=s(24851),i=s(96241);let n=t.forwardRef(({className:e,...a},s)=>(0,r.jsxs)(l.bL,{ref:s,className:(0,i.cn)("relative flex w-full touch-none select-none items-center",e),...a,children:[(0,r.jsx)(l.CC,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:(0,r.jsx)(l.Q6,{className:"absolute h-full bg-primary"})}),(0,r.jsx)(l.zi,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));n.displayName=l.bL.displayName},59821:(e,a,s)=>{"use strict";s.d(a,{E:()=>n});var r=s(60687);s(43210);var t=s(25619),l=s(96241);let i=(0,t.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n({className:e,variant:a,...s}){return(0,r.jsx)("div",{className:(0,l.cn)(i({variant:a}),e),...s})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63974:(e,a,s)=>{"use strict";s.d(a,{bq:()=>p,eb:()=>h,gC:()=>f,l6:()=>c,yv:()=>m});var r=s(60687),t=s(43210),l=s(22670),i=s(78272),n=s(3589),d=s(13964),o=s(96241);let c=l.bL;l.YJ;let m=l.WT,p=t.forwardRef(({className:e,children:a,...s},t)=>(0,r.jsxs)(l.l9,{ref:t,className:(0,o.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...s,children:[a,(0,r.jsx)(l.In,{asChild:!0,children:(0,r.jsx)(i.A,{className:"h-4 w-4 opacity-50"})})]}));p.displayName=l.l9.displayName;let u=t.forwardRef(({className:e,...a},s)=>(0,r.jsx)(l.PP,{ref:s,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",e),...a,children:(0,r.jsx)(n.A,{className:"h-4 w-4"})}));u.displayName=l.PP.displayName;let x=t.forwardRef(({className:e,...a},s)=>(0,r.jsx)(l.wn,{ref:s,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",e),...a,children:(0,r.jsx)(i.A,{className:"h-4 w-4"})}));x.displayName=l.wn.displayName;let f=t.forwardRef(({className:e,children:a,position:s="popper",...t},i)=>(0,r.jsx)(l.ZL,{children:(0,r.jsxs)(l.UC,{ref:i,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...t,children:[(0,r.jsx)(u,{}),(0,r.jsx)(l.LM,{className:(0,o.cn)("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),(0,r.jsx)(x,{})]})}));f.displayName=l.UC.displayName,t.forwardRef(({className:e,...a},s)=>(0,r.jsx)(l.JU,{ref:s,className:(0,o.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...a})).displayName=l.JU.displayName;let h=t.forwardRef(({className:e,children:a,...s},t)=>(0,r.jsxs)(l.q7,{ref:t,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(l.VF,{children:(0,r.jsx)(d.A,{className:"h-4 w-4"})})}),(0,r.jsx)(l.p4,{children:a})]}));h.displayName=l.q7.displayName,t.forwardRef(({className:e,...a},s)=>(0,r.jsx)(l.wv,{ref:s,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",e),...a})).displayName=l.wv.displayName},68988:(e,a,s)=>{"use strict";s.d(a,{p:()=>i});var r=s(60687),t=s(43210),l=s(96241);let i=t.forwardRef(({className:e,type:a,...s},t)=>(0,r.jsx)("input",{type:a,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:t,...s}));i.displayName="Input"},96474:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let r=(0,s(62688).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])}};var a=require("../../webpack-runtime.js");a.C(e);var s=e=>a(a.s=e),r=a.X(0,[447,847,514,474,97,356,595],()=>s(10406));module.exports=r})();