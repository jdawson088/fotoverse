(()=>{var e={};e.id=240,e.ids=[240],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6783:(e,a,s)=>{"use strict";s.r(a),s.d(a,{GlobalError:()=>l.Z,__next_app__:()=>m,originalPathname:()=>o,pages:()=>d,routeModule:()=>p,tree:()=>c}),s(9888),s(6070),s(9410);var t=s(3191),r=s(8716),l=s(8001),i=s(5231),n={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>i[e]);s.d(a,n);let c=["",{children:["marketplace",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,9888)),"/home/ubuntu/fotoverse/app/app/marketplace/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,6070)),"/home/ubuntu/fotoverse/app/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,9410)),"/home/ubuntu/fotoverse/app/app/not-found.tsx"]}],d=["/home/ubuntu/fotoverse/app/app/marketplace/page.tsx"],o="/marketplace/page",m={require:s,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/marketplace/page",pathname:"/marketplace",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},9529:(e,a,s)=>{Promise.resolve().then(s.bind(s,7126))},7126:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>y});var t=s(326),r=s(7577),l=s(6226),i=s(772),n=s(4432),c=s(2643),d=s(567),o=s(4474),m=s(1217),p=s(8758),x=s(4125),u=s(3855),f=s(9561),g=s(8307),h=s(7427),b=s(7636),j=s(9730),v=s(4565);function y(){let[e,a]=(0,r.useState)([]),[s,y]=(0,r.useState)(!0),[N,w]=(0,r.useState)({search:"",category:"",condition:"",city:"",priceRange:[0,5e3]}),[k,C]=(0,r.useState)({page:1,limit:12,total:0,pages:0}),R=async()=>{y(!0);try{let e=new URLSearchParams({page:k.page.toString(),limit:k.limit.toString()});N.search&&e.append("search",N.search),N.category&&e.append("category",N.category),N.condition&&e.append("condition",N.condition),N.city&&e.append("city",N.city),N.priceRange[0]>0&&e.append("minPrice",N.priceRange[0].toString()),N.priceRange[1]<5e3&&e.append("maxPrice",N.priceRange[1].toString());let s=await fetch(`/api/marketplace?${e}`);if(s.ok){let e=await s.json();a(e.equipment),C(e.pagination)}}catch(e){console.error("Failed to fetch equipment:",e)}finally{y(!1)}},P=()=>{w({search:"",category:"",condition:"",city:"",priceRange:[0,5e3]}),C(e=>({...e,page:1}))},_=e=>{if(e.images&&e.images.length>0)return e.images[0];switch(e.category){case"CAMERA":return"https://c8.alamy.com/comp/HJ466G/professional-dslr-digital-camera-with-big-white-tele-lens-on-white-HJ466G.jpg";case"LENS":return"https://i.ytimg.com/vi/WE-b4IPMnq8/maxresdefault.jpg";case"LIGHTING":return"https://i.pinimg.com/originals/80/1a/d6/801ad69ccf345ad7830e09a97da1bed7.jpg";case"BACKDROP":return"https://i.pinimg.com/originals/e2/20/1a/e2201a6a102d029f095446eb52fb6d46.jpg";case"PROPS":return"https://i.pinimg.com/originals/cc/4e/5a/cc4e5a996cd15c29d3acfc89f76f28bb.jpg";case"WARDROBE":return"https://i.pinimg.com/originals/44/b3/61/44b36189feeedd5d2c66edbb1d1aabc8.jpg";case"ACCESSORIES":return"https://i.pinimg.com/originals/01/ab/b9/01abb9383b2321c0314acde2434f55e8.png";default:return"https://images.pexels.com/photos/4011762/pexels-photo-4011762.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260"}};return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[t.jsx("div",{className:"bg-white border-b",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Equipment Marketplace"}),t.jsx("p",{className:"text-gray-600 mt-1",children:"Buy and sell photography gear with the community"})]}),(0,t.jsxs)(i.z,{className:"lg:w-auto",children:[t.jsx(u.Z,{className:"h-4 w-4 mr-2"}),"List Equipment"]})]})})}),t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row gap-8",children:[t.jsx("div",{className:"lg:w-80 space-y-6",children:t.jsx(c.Zb,{children:(0,t.jsxs)(c.aY,{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold flex items-center",children:[t.jsx(f.Z,{className:"h-5 w-5 mr-2"}),"Filters"]}),t.jsx(i.z,{variant:"ghost",size:"sm",onClick:P,children:"Clear"})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[t.jsx("form",{onSubmit:e=>{e.preventDefault(),C(e=>({...e,page:1})),R()},children:(0,t.jsxs)("div",{className:"relative",children:[t.jsx(g.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),t.jsx(n.I,{placeholder:"Search equipment...",value:N.search,onChange:e=>w(a=>({...a,search:e.target.value})),className:"pl-10"})]})}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Category"}),(0,t.jsxs)(o.Ph,{value:N.category||void 0,onValueChange:e=>w(a=>({...a,category:e||""})),children:[t.jsx(o.i4,{children:t.jsx(o.ki,{placeholder:"Any category"})}),(0,t.jsxs)(o.Bw,{children:[t.jsx(o.Ql,{value:"all",children:"Any category"}),[{value:"CAMERA",label:"Cameras"},{value:"LENS",label:"Lenses"},{value:"LIGHTING",label:"Lighting"},{value:"BACKDROP",label:"Backdrops"},{value:"PROPS",label:"Props"},{value:"WARDROBE",label:"Wardrobe"},{value:"ACCESSORIES",label:"Accessories"}].map(e=>t.jsx(o.Ql,{value:e.value,children:e.label},e.value))]})]})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Condition"}),(0,t.jsxs)(o.Ph,{value:N.condition||void 0,onValueChange:e=>w(a=>({...a,condition:e||""})),children:[t.jsx(o.i4,{children:t.jsx(o.ki,{placeholder:"Any condition"})}),(0,t.jsxs)(o.Bw,{children:[t.jsx(o.Ql,{value:"all",children:"Any condition"}),[{value:"New",label:"New"},{value:"Like New",label:"Like New"},{value:"Good",label:"Good"},{value:"Fair",label:"Fair"}].map(e=>t.jsx(o.Ql,{value:e.value,children:e.label},e.value))]})]})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"text-sm font-medium mb-2 block",children:"City"}),t.jsx(n.I,{placeholder:"Enter city",value:N.city,onChange:e=>w(a=>({...a,city:e.target.value}))})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"text-sm font-medium mb-2 block",children:["Price Range: $",N.priceRange[0]," - $",N.priceRange[1]]}),t.jsx(m.i,{value:N.priceRange,onValueChange:e=>w(a=>({...a,priceRange:e})),max:5e3,step:50,className:"mt-2"})]})]})]})})}),(0,t.jsxs)("div",{className:"flex-1",children:[t.jsx("div",{className:"flex items-center justify-between mb-6",children:(0,t.jsxs)("p",{className:"text-gray-600",children:[k.total," items found"]})}),s?t.jsx("div",{className:"grid md:grid-cols-2 xl:grid-cols-3 gap-6",children:[...Array(6)].map((e,a)=>(0,t.jsxs)("div",{className:"animate-pulse",children:[t.jsx("div",{className:"bg-gray-200 aspect-square rounded-lg mb-4"}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),t.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})]},a))}):t.jsx("div",{className:"grid md:grid-cols-2 xl:grid-cols-3 gap-6",children:e.map((e,a)=>t.jsx(x.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1*a},children:(0,t.jsxs)(c.Zb,{className:"overflow-hidden card-hover border-0 shadow-md",children:[(0,t.jsxs)("div",{className:"relative aspect-square bg-gray-200",children:[t.jsx(l.default,{src:_(e),alt:`${e.title} - ${e.category.replace("_"," ")} for sale in ${e.city}`,fill:!0,className:"object-cover"}),t.jsx("div",{className:"absolute top-3 right-3",children:t.jsx(i.z,{size:"sm",variant:"secondary",className:"rounded-full p-2",children:t.jsx(h.Z,{className:"h-4 w-4"})})}),t.jsx("div",{className:"absolute top-3 left-3",children:t.jsx(d.C,{variant:"secondary",children:e.category.replace("_"," ")})})]}),(0,t.jsxs)(c.aY,{className:"p-4",children:[t.jsx("h3",{className:"font-semibold text-lg mb-2 line-clamp-2",children:e.title}),e.brand&&e.model&&(0,t.jsxs)("p",{className:"text-gray-600 text-sm mb-2",children:[e.brand," ",e.model]}),(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[t.jsx(d.C,{variant:"outline",children:e.condition}),(0,t.jsxs)("div",{className:"flex items-center text-gray-600",children:[t.jsx(b.Z,{className:"h-4 w-4 mr-1"}),t.jsx("span",{className:"text-sm",children:e.city})]})]}),t.jsx("div",{className:"flex items-center justify-between mb-4",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsxs)(p.qE,{className:"h-6 w-6",children:[t.jsx(p.F$,{src:e.seller.avatar||""}),t.jsx(p.Q5,{className:"text-xs",children:e.seller.name?.charAt(0)||"U"})]}),t.jsx("span",{className:"text-sm text-gray-600",children:e.seller.name})]})}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("span",{className:"text-2xl font-bold text-green-600",children:["$",e.price.toLocaleString()]}),(0,t.jsxs)(i.z,{size:"sm",children:[t.jsx(j.Z,{className:"h-4 w-4 mr-1"}),"Contact"]})]})]})]})},e.id))}),!s&&0===e.length&&(0,t.jsxs)("div",{className:"text-center py-12",children:[t.jsx(v.Z,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No equipment found"}),t.jsx("p",{className:"text-gray-600 mb-4",children:"Try adjusting your filters or search terms."}),t.jsx(i.z,{onClick:P,children:"Clear Filters"})]}),k.pages>1&&t.jsx("div",{className:"flex justify-center mt-8",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx(i.z,{variant:"outline",disabled:1===k.page,onClick:()=>C(e=>({...e,page:e.page-1})),children:"Previous"}),[...Array(Math.min(5,k.pages))].map((e,a)=>{let s=a+1;return t.jsx(i.z,{variant:k.page===s?"default":"outline",onClick:()=>C(e=>({...e,page:s})),children:s},s)}),t.jsx(i.z,{variant:"outline",disabled:k.page===k.pages,onClick:()=>C(e=>({...e,page:e.page+1})),children:"Next"})]})})]})]})})]})}},567:(e,a,s)=>{"use strict";s.d(a,{C:()=>n});var t=s(326);s(7577);var r=s(9360),l=s(7863);let i=(0,r.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n({className:e,variant:a,...s}){return t.jsx("div",{className:(0,l.cn)(i({variant:a}),e),...s})}},2643:(e,a,s)=>{"use strict";s.d(a,{Ol:()=>n,SZ:()=>d,Zb:()=>i,aY:()=>o,ll:()=>c});var t=s(326),r=s(7577),l=s(7863);let i=r.forwardRef(({className:e,...a},s)=>t.jsx("div",{ref:s,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...a}));i.displayName="Card";let n=r.forwardRef(({className:e,...a},s)=>t.jsx("div",{ref:s,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",e),...a}));n.displayName="CardHeader";let c=r.forwardRef(({className:e,...a},s)=>t.jsx("h3",{ref:s,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",e),...a}));c.displayName="CardTitle";let d=r.forwardRef(({className:e,...a},s)=>t.jsx("p",{ref:s,className:(0,l.cn)("text-sm text-muted-foreground",e),...a}));d.displayName="CardDescription";let o=r.forwardRef(({className:e,...a},s)=>t.jsx("div",{ref:s,className:(0,l.cn)("p-6 pt-0",e),...a}));o.displayName="CardContent",r.forwardRef(({className:e,...a},s)=>t.jsx("div",{ref:s,className:(0,l.cn)("flex items-center p-6 pt-0",e),...a})).displayName="CardFooter"},4432:(e,a,s)=>{"use strict";s.d(a,{I:()=>i});var t=s(326),r=s(7577),l=s(7863);let i=r.forwardRef(({className:e,type:a,...s},r)=>t.jsx("input",{type:a,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...s}));i.displayName="Input"},4474:(e,a,s)=>{"use strict";s.d(a,{Bw:()=>f,Ph:()=>o,Ql:()=>g,i4:()=>p,ki:()=>m});var t=s(326),r=s(7577),l=s(4875),i=s(8393),n=s(6633),c=s(2933),d=s(7863);let o=l.fC;l.ZA;let m=l.B4,p=r.forwardRef(({className:e,children:a,...s},r)=>(0,t.jsxs)(l.xz,{ref:r,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...s,children:[a,t.jsx(l.JO,{asChild:!0,children:t.jsx(i.Z,{className:"h-4 w-4 opacity-50"})})]}));p.displayName=l.xz.displayName;let x=r.forwardRef(({className:e,...a},s)=>t.jsx(l.u_,{ref:s,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...a,children:t.jsx(n.Z,{className:"h-4 w-4"})}));x.displayName=l.u_.displayName;let u=r.forwardRef(({className:e,...a},s)=>t.jsx(l.$G,{ref:s,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...a,children:t.jsx(i.Z,{className:"h-4 w-4"})}));u.displayName=l.$G.displayName;let f=r.forwardRef(({className:e,children:a,position:s="popper",...r},i)=>t.jsx(l.h_,{children:(0,t.jsxs)(l.VY,{ref:i,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...r,children:[t.jsx(x,{}),t.jsx(l.l_,{className:(0,d.cn)("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),t.jsx(u,{})]})}));f.displayName=l.VY.displayName,r.forwardRef(({className:e,...a},s)=>t.jsx(l.__,{ref:s,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...a})).displayName=l.__.displayName;let g=r.forwardRef(({className:e,children:a,...s},r)=>(0,t.jsxs)(l.ck,{ref:r,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(l.wU,{children:t.jsx(c.Z,{className:"h-4 w-4"})})}),t.jsx(l.eT,{children:a})]}));g.displayName=l.ck.displayName,r.forwardRef(({className:e,...a},s)=>t.jsx(l.Z0,{ref:s,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",e),...a})).displayName=l.Z0.displayName},1217:(e,a,s)=>{"use strict";s.d(a,{i:()=>n});var t=s(326),r=s(7577),l=s(7131),i=s(7863);let n=r.forwardRef(({className:e,...a},s)=>(0,t.jsxs)(l.fC,{ref:s,className:(0,i.cn)("relative flex w-full touch-none select-none items-center",e),...a,children:[t.jsx(l.fQ,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:t.jsx(l.e6,{className:"absolute h-full bg-primary"})}),t.jsx(l.bU,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));n.displayName=l.fC.displayName},9730:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(2881).Z)("message-circle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]])},3855:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(2881).Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},9888:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>t});let t=(0,s(8570).createProxy)(String.raw`/home/ubuntu/fotoverse/app/app/marketplace/page.tsx#default`)}};var a=require("../../webpack-runtime.js");a.C(e);var s=e=>a(a.s=e),t=a.X(0,[276,839,125,226,180,943,525],()=>s(6783));module.exports=t})();