"use strict";(()=>{var e={};e.id=949,e.ids=[949],e.modules={3524:e=>{e.exports=require("@prisma/client")},399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},8109:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>m,patchFetch:()=>N,requestAsyncStorage:()=>x,routeModule:()=>h,serverHooks:()=>f,staticGenerationAsyncStorage:()=>v});var o={};r.r(o),r.d(o,{DELETE:()=>l,GET:()=>d,PUT:()=>p,dynamic:()=>u});var n=r(9303),a=r(8716),i=r(3131),s=r(7070);let u="force-dynamic";async function c(){let{prisma:e}=await r.e(487).then(r.bind(r,9487));return e}async function d(e,{params:t}){try{if("phase-production-build"===process.env.NEXT_PHASE)return s.NextResponse.json({error:"Not available during build"},{status:503});let e=await c(),r=await e.location.findUnique({where:{id:t.id,isActive:!0},include:{owner:{select:{id:!0,name:!0,avatar:!0}}}});if(!r)return s.NextResponse.json({error:"Location not found"},{status:404});return s.NextResponse.json(r)}catch(e){return console.error("Location fetch error:",e),s.NextResponse.json({error:"Failed to fetch location"},{status:500})}}async function p(e,{params:t}){try{if("phase-production-build"===process.env.NEXT_PHASE)return s.NextResponse.json({error:"Not available during build"},{status:503});let r=await c(),o=await e.json(),n=await r.location.update({where:{id:t.id},data:o,include:{owner:{select:{id:!0,name:!0,avatar:!0}}}});return s.NextResponse.json(n)}catch(e){return console.error("Location update error:",e),s.NextResponse.json({error:"Failed to update location"},{status:500})}}async function l(e,{params:t}){try{if("phase-production-build"===process.env.NEXT_PHASE)return s.NextResponse.json({error:"Not available during build"},{status:503});let e=await c();return await e.location.delete({where:{id:t.id}}),s.NextResponse.json({success:!0})}catch(e){return console.error("Location deletion error:",e),s.NextResponse.json({error:"Failed to delete location"},{status:500})}}let h=new n.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/locations/[id]/route",pathname:"/api/locations/[id]",filename:"route",bundlePath:"app/api/locations/[id]/route"},resolvedPagePath:"/home/ubuntu/fotoverse/app/app/api/locations/[id]/route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:x,staticGenerationAsyncStorage:v,serverHooks:f}=h,m="/api/locations/[id]/route";function N(){return(0,i.patchFetch)({serverHooks:f,staticGenerationAsyncStorage:v})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[276,972],()=>r(8109));module.exports=o})();