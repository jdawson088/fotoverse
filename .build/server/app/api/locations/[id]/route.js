(()=>{var e={};e.id=752,e.ids=[752],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3683:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>w,routeModule:()=>x,serverHooks:()=>f,workAsyncStorage:()=>v,workUnitAsyncStorage:()=>h});var o={};r.r(o),r.d(o,{DELETE:()=>l,GET:()=>d,PUT:()=>p,dynamic:()=>u});var s=r(96559),n=r(48088),a=r(37719),i=r(32190);let u="force-dynamic";async function c(){let{prisma:e}=await r.e(462).then(r.bind(r,7462));return e}async function d(e,{params:t}){try{if("phase-production-build"===process.env.NEXT_PHASE)return i.NextResponse.json({error:"Not available during build"},{status:503});let e=await c(),r=await e.location.findUnique({where:{id:t.id,isActive:!0},include:{owner:{select:{id:!0,name:!0,avatar:!0}}}});if(!r)return i.NextResponse.json({error:"Location not found"},{status:404});return i.NextResponse.json(r)}catch(e){return console.error("Location fetch error:",e),i.NextResponse.json({error:"Failed to fetch location"},{status:500})}}async function p(e,{params:t}){try{if("phase-production-build"===process.env.NEXT_PHASE)return i.NextResponse.json({error:"Not available during build"},{status:503});let r=await c(),o=await e.json(),s=await r.location.update({where:{id:t.id},data:o,include:{owner:{select:{id:!0,name:!0,avatar:!0}}}});return i.NextResponse.json(s)}catch(e){return console.error("Location update error:",e),i.NextResponse.json({error:"Failed to update location"},{status:500})}}async function l(e,{params:t}){try{if("phase-production-build"===process.env.NEXT_PHASE)return i.NextResponse.json({error:"Not available during build"},{status:503});let e=await c();return await e.location.delete({where:{id:t.id}}),i.NextResponse.json({success:!0})}catch(e){return console.error("Location deletion error:",e),i.NextResponse.json({error:"Failed to delete location"},{status:500})}}let x=new s.AppRouteRouteModule({definition:{kind:n.RouteKind.APP_ROUTE,page:"/api/locations/[id]/route",pathname:"/api/locations/[id]",filename:"route",bundlePath:"app/api/locations/[id]/route"},resolvedPagePath:"/home/ubuntu/fotoverse/app/api/locations/[id]/route.ts",nextConfigOutput:"",userland:o}),{workAsyncStorage:v,workUnitAsyncStorage:h,serverHooks:f}=x;function w(){return(0,a.patchFetch)({workAsyncStorage:v,workUnitAsyncStorage:h})}},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},78335:()=>{},96330:e=>{"use strict";e.exports=require("@prisma/client")},96487:()=>{}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[447,580],()=>r(3683));module.exports=o})();